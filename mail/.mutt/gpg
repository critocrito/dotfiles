# -*- mode: muttrc -*-

set pgp_autosign
set pgp_replysign
set pgp_replyencrypt
set pgp_timeout="12000"
# set pgp_sign_as="0x1CFA02A2"
set pgp_sign_as="0x19DFFC4FBBBD99D9"
set pgp_auto_decode

set pgp_decode_command="gpg %?p?--passphrase-fd 0? --no-verbose --batch --output - %f"
set pgp_verify_command="gpg --no-verbose --batch --output - --verify %s %f"
set pgp_decrypt_command="gpg --passphrase-fd 0 --no-verbose --batch --output - %f"
set pgp_sign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command="/usr/bin/pgpewrap gpg --encrypt-to 0x44D77A72D21E4694 -v --batch --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"
set pgp_encrypt_sign_command="/usr/bin/pgpewrap gpg --encrypt-to 0x44D77A72D21E4694 --passphrase-fd 0 -v --batch --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"
set pgp_import_command="gpg --no-verbose --import -v %f"
set pgp_export_command="gpg --no-verbose --export --armor %r"
set pgp_verify_key_command="gpg --no-verbose --batch --fingerprint --check-sigs %r"
set pgp_list_pubring_command="gpg --no-verbose --batch --with-colons --list-keys %r"
set pgp_list_secring_command="gpg --no-verbose --batch --with-colons --list-secret-keys %r"
set pgp_getkeys_command=""

# FIXME: The auto encrypt wasn't working I believe ... Have to still figure
# this out ...
# Always encrypt when writing to those emails
# See: http://dev.mutt.org/trac/wiki/MuttGuide/UseGPG
# send-hook "!~l ~t acracia@cryptodrunks\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t acracia@riseup\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t acracia@squat\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t allen@netherrealm\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t dickreckard@autistici\\.org" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t nathan@menglef\\.org" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t odniett@riseup\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t racemat@riseup\\.net" "set pgp_autoencrypt pgp_autosign"
# send-hook "!~l ~t teun@riseup\\.net" "set pgp_autoencrypt pgp_autosign"
